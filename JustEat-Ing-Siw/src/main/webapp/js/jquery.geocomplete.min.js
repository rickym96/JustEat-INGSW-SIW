/*!
 * jquery.geocomplete v1.2.1 (https://github.com/tmentink/jquery.geocomplete)
 * Copyright 2018 Trent Mentink
 * Licensed under MIT
 */

function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}if("undefined"==typeof jQuery&&"undefined"==typeof $)throw new Error("jQuery is required.");if("undefined"==typeof google||void 0===google.maps||void 0===google.maps.places)throw new Error("Google Maps JavaScript API v3 with Places libary is required.");!function(e){"use strict";function t(e,t){var s=n(e)+"px !important",r=o(e)+"px !important";t.id="pac-container_"+e[0].id,v.innerHTML+="#"+t.id+"{top:"+r+"; left:"+s+";}",e.parent().css({position:"relative"}).append(t)}function n(e){return e.offset().left-e.parent().offset().left}function o(e){var t=e.offset().top,n=e.outerHeight();return t-e.parent().offset().top+n}function s(e){navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(t){var n=new google.maps.Circle({center:{lat:t.coords.latitude,lng:t.coords.longitude},radius:t.coords.accuracy});e.setBounds(n.getBounds())})}function r(e){var t=e.placeAddress||[],n=e.name,o=e.type,s=t.map(function(e){return e.types[0]==o}).indexOf(!0);return-1!=s?t[s][n]:""}function a(e){return c(e)?"SEMANTIC_DROPDOWN":e.prop("nodeName")}function i(e){return Object.keys(e).length<=1}function c(e){var t=e.parent();return!!(e.hasClass("ui")&&e.hasClass("dropdown")||t.hasClass("ui")&&t.hasClass("dropdown"))}function l(e,t,n){var o=-1!=(t=t.toLowerCase().replace(/\s+/g,"")).indexOf("short");if(t=t.replace("short",""),g[t]){var s=g[t](n,o);y.set[a(e)](e,s)}else d(t+" is not a valid address type")}function d(e){console.error(e)}var p="geocomplete",u="gmap."+p,f=["bounds","componentRestrictions","placeIdOnly","strictBounds","types"],m={appendToParent:!0,fields:null,geolocate:!1,map:null,types:["geocode"],onChange:function(){},onNoResult:function(){}},h={FOCUS:"focus"+("."+u),PLACE_CHANGED:"place_changed"},g={city:function(e,t){return r({placeAddress:e.address_components,name:t?"short_name":"long_name",type:"locality"})},country:function(e,t){return r({placeAddress:e.address_components,name:t?"short_name":"long_name",type:"country"})},county:function(e,t){return r({placeAddress:e.address_components,name:t?"short_name":"long_name",type:"administrative_area_level_2"})},formattedaddress:function(e){return e.formatted_address},neighborhood:function(e,t){return r({placeAddress:e.address_components,name:t?"short_name":"long_name",type:"neighborhood"})},state:function(e,t){return r({placeAddress:e.address_components,name:t?"short_name":"long_name",type:"administrative_area_level_1"})},street:function(e,t){return r({placeAddress:e.address_components,name:t?"short_name":"long_name",type:"route"})},streetaddress:function(e,t){return r({placeAddress:e.address_components,name:t?"short_name":"long_name",type:"street_number"})+" "+r({placeAddress:e.address_components,name:t?"short_name":"long_name",type:"route"})},streetnumber:function(e,t){return r({placeAddress:e.address_components,name:t?"short_name":"long_name",type:"street_number"})},zipcode:function(e,t){return r({placeAddress:e.address_components,name:t?"short_name":"long_name",type:"postal_code"})},zipcodesuffix:function(e,t){return r({placeAddress:e.address_components,name:t?"short_name":"long_name",type:"postal_code_suffix"})}},y={clear:{INPUT:function(e){e.val("")},SELECT:function(e){e.val("")},SEMANTIC_DROPDOWN:function(e){e.dropdown("clear")}},set:{INPUT:function(e,t){e.val(t)},SELECT:function(t,n){var o=e("option:contains("+n+")",t)[0].index;t.prop("selectedIndex",o)},SEMANTIC_DROPDOWN:function(e,t){e.dropdown("set selected",t)}}},_=-1,v=function(){var t=document.createElement("style");return t.type="text/css",e("head")[0].appendChild(t),t}(),C=function(){function n(o,r){var a=this;_classCallCheck(this,n),"string"==typeof r&&(r={}),r=e.extend(!0,{},e.fn[p].settings,r);var c={};Object.keys(r).forEach(function(e){-1!==f.indexOf(e)&&(c[e]=r[e])}),this.element=o,this.fields=r.fields,this.index=_+=1,this.map=r.map,this.obj=new google.maps.places.Autocomplete(o,c),this.pacContainer=null,this.obj.addListener(h.PLACE_CHANGED,function(){var t=e(a.element),n=a.getplace();if(i(n))r.onNoResult.call(t,n.name);else if(r.onChange.call(t,n.name,n),null!=a.fields&&a.fillfields(),null!=a.map){var o=n.geometry.location,s=n.geometry.viewport;a.centermap(o||s)}}),r.geolocate&&s(this.obj),r.appendToParent&&(e(o).on(h.FOCUS,function(){var n=e(this),o=n.data(u);null!=o.pacContainer&&(t(n,o.pacContainer),n.off(h.FOCUS))}),setTimeout(function(){a.pacContainer=e(".pac-container")[a.index]},1e3))}return n.prototype.centermap=function(t){if(null==t){var n=this.getplace(),o=n.geometry.location;t=n.geometry.viewport||o}return t instanceof google.maps.LatLngBounds?this.map.fitBounds(t):t instanceof google.maps.LatLng&&this.map.setCenter(t),e(this.element)},n.prototype.clearfields=function(){var t=this.fields;if("string"==e.type(t))e("[data-"+p+"]",e(this.fields)).each(function(){var t=e(this);y.clear[a(t)](t)});else if("object"==e.type(t))for(var n in t){var o=e(n);0!=o.length?y.clear[a(o)](o):d(n+" was not found in DOM")}return e(this.element)},n.prototype.fillfields=function(){this.clearfields();var t=this.fields,n=this.obj.getPlace();if("string"==e.type(t))e("[data-"+p+"]",e(this.fields)).each(function(){var t=e(this);l(t,t.data(p),n)});else if("object"==e.type(t))for(var o in t){var s=e(o),r=t[o];0!=s.length?l(s,r,n):d(o+" was not found in DOM")}return e(this.element)},n.prototype.getbounds=function(){return this.obj.getBounds()},n.prototype.getplace=function(){return this.obj.getPlace()},n.prototype.setbounds=function(t){return this.obj.setBounds(t),e(this.element)},n.prototype.setcomponentrestrictions=function(t){return this.obj.setComponentRestrictions(t),e(this.element)},n.prototype.setoptions=function(t){return this.obj.setOptions(t),e(this.element)},n.prototype.settypes=function(t){return this.obj.setTypes(t),e(this.element)},n._jQueryInterface=function(t,o){var s=e(this),r=s.data(u);if(r||(r=new n(this[0],t),s.data(u,r)),"string"==typeof t){var a=t.toLowerCase().replace(/\s+/g,"");if(r[a])return r[a](o);d('"'+t+'" is not a valid method')}return this},n}();e.fn[p]=C._jQueryInterface,e.fn[p].Constructor=C,e.fn[p].settings=m}(window.jQuery||window.$);
